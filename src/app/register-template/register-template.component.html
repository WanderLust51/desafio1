<form action="" onsubmit="event.preventDefault" #form="ngForm">
    <span>
        <label for="name">Nombre</label>
        <input type="text" name="name" id="name" [(ngModel)]="model.name" #name="ngModel" required>
    </span>
    <div *ngIf="name.invalid && name.touched" class="error-div">
        <p>El nombre es obligatorio</p>
    </div>

    <span>
        <label for="lastname">Apellido</label>
        <input type="text" name="lastname" id="lastname" [(ngModel)]="model.lastname" #lastname="ngModel" required>
    </span>
    <div *ngIf="lastname.invalid && lastname.touched" class="error-div">
        <p>El apellido es obligatorio</p>
    </div>

    <span>
        <label for="username">Nombre de usuario (opcional)</label>
        <input type="text" name="username" id="username">
    </span>

    <span>
        <label for="password">Contraseña</label>
        <input type="password" name="password" id="password" [(ngModel)]="model.password" #password="ngModel" required minlength="5">
    </span>
    <div *ngIf="password.invalid && password.touched" class="error-div">
        <p>La contraseña es obligatoria y debe tener más de 5 caracteres</p>
    </div>

    <span>
        <label for="email">Correo electrónico</label>
        <input type="email" name="email" id="email" [(ngModel)]="model.email" #email="ngModel" required>
    </span>
    <div *ngIf="email.invalid && email.touched" class="error-div">
        <p>El correo electrónico es obligatorio</p>
    </div>

    <span>
        <label for="phone">Número de teléfono</label>
        <input type="text" name="phone" id="phone" [(ngModel)]="model.phone" #phone="ngModel" required minlength="8">
    </span>
    <div *ngIf="phone.invalid && phone.touched" class="error-div">
        <p>El número de teléfono debe tener más de 8 caracteres</p>
    </div>

    <span style="justify-content: center; margin-top: 1cm;">
        <input type="submit" value="Enviar" style="width: 40%;" (click)="validate(form)" [disabled]="form.status == 'INVALID'">
    </span>
</form>

<style>

    .error-div{
        border-radius: 2px;
        border: solid 1px red;
        padding: 14px 0;
        margin: 5px 0 1rem 0;
        box-shadow: 1px 1px 1px rgba(126, 126, 126, 0.199);

        & > p{
            display: flex;
            justify-content: center;
            margin: 0;
        }
    }

    form{
        display: flex;
        flex-direction: column;
        width: 35%;
        margin: 2cm auto;

        & > span{
            display: flex;
            justify-content: space-between;
            padding: 5px;
            margin: 5px 0;

            & > input{
                padding: 5px;
            };
        }

        @media screen and (width < 1100px) {
            width: 45%;
        }
    }
</style>